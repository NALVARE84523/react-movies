{"version":3,"sources":["components/Search.module.css","components/MovieCard.module.css","components/Spinner.module.css","components/MoviesGrid.module.css","App.module.css","hooks/useQuery.jsx","utils/httpClient.js","components/MovieCard.jsx","components/Spinner.jsx","components/MoviesGrid.jsx","pages/MovieDetails.jsx","components/Search.jsx","pages/LandingPage.jsx","App.jsx","index.js","pages/MovieDetails.module.css"],"names":["module","exports","searchContainer","searchBox","searchButton","searchInput","movieCard","movieImage","spinner","spinning","moviesGrid","title","useQuery","URLSearchParams","useLocation","search","API","get","path","fetch","headers","Authorization","Content-Type","then","result","json","MovieCard","_ref","movie","imageUrl","poster_path","react_default","a","createElement","className","styles","react_router_dom","to","concat","id","width","height","src","alt","Spinner","index_esm","size","MoviesGrid","_useState","useState","_useState2","Object","slicedToArray","movies","setMovies","_useState3","_useState4","setIsLoading","_useState5","_useState6","page","setPage","_useState7","_useState8","hasMore","setHasMore","useEffect","data","prevMovies","results","total_pages","index_es","dataLength","length","next","prevPage","loader","map","key","MovieDetails","movieId","useParams","isLoading","setMovie","detailsContainer","col","movieDetails","firstItem","genres","genre","name","join","overview","Search","searchText","setSearchText","history","useHistory","onSubmit","e","preventDefault","push","action","type","value","onChange","target","autoFocus","LandingPage","Fragment","App","basename","process","react_router","ReactDOM","render","document","getElementById","StrictMode"],"mappings":"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","file":"static/js/main.a9dd1618.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"Search_searchContainer__21kAH\",\"searchBox\":\"Search_searchBox__3dsE5\",\"searchButton\":\"Search_searchButton__1OqOB\",\"searchInput\":\"Search_searchInput__1coyJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieCard_movieCard__2dwDB\",\"movieImage\":\"MovieCard_movieImage__2hKZ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__1pMG2\",\"spinning\":\"Spinner_spinning__2VCx5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesGrid\":\"MoviesGrid_moviesGrid__3PFbh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__33Y4c\"};","import { useLocation } from \"react-router\";\r\n\r\nexport function useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }","const API = \"https://api.themoviedb.org/3\";\r\n\r\nexport function get(path) {\r\n  return fetch(API + path, {\r\n    headers: {\r\n      Authorization:\r\n        \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxMmJiMmI2OTI5OWJjNTUzNGZmM2YwZWY4ODhjYjJjNyIsInN1YiI6IjYxOTJiNWFlNjNhNjk1MDAyYjIxZWM2MyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.SfW6qNJfSba94xtvr_Y2PVXGOmNEuTcenGVJbNvmY4c\",\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n  }).then((result) => result.json());\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport styles from \"./MovieCard.module.css\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function MovieCard({ movie }) {\r\n  const imageUrl = \"https://image.tmdb.org/t/p/w300\" + movie.poster_path;\r\n  return (\r\n    <li className={styles.movieCard}>\r\n      <Link to={`/movies/${movie.id}`}> \r\n        <img\r\n          width={230}\r\n          height={345}\r\n          className={styles.movieImage}\r\n          src={imageUrl}\r\n          alt={movie.title}\r\n        />\r\n        <div>{movie.title}</div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}","import { FaSpinner } from \"react-icons/fa\";\r\nimport styles from \"./Spinner.module.css\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function Spinner() {\r\n    return (\r\n        <div className={styles.spinner}>\r\n            <FaSpinner className={styles.spinning} size={60}/>\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport { get } from \"../utils/httpClient\";\r\nimport { MovieCard } from \"./MovieCard\";\r\nimport styles from \"./MoviesGrid.module.css\";\r\nimport { Spinner } from \"./Spinner\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function MoviesGrid() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  const query = useQuery();\r\n  const search = query.get(\"search\");\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const searchUrl = search\r\n      ? \"/search/movie?query=\" + search + \"&page=\" + page\r\n      : \"/discover/movie?page=\" + page;\r\n    get(searchUrl).then((data) => {\r\n      setMovies((prevMovies) => prevMovies.concat(data.results));\r\n      setHasMore(data.page < data.total_pages)\r\n      setIsLoading(false);\r\n    });\r\n  }, [search, page]);\r\n\r\n/*   if (isLoading) {\r\n    return <Spinner />;\r\n  } */\r\n\r\n  return (\r\n    <InfiniteScroll\r\n      dataLength={movies.length}\r\n      hasMore={hasMore}\r\n      next={() => setPage((prevPage) => prevPage + 1)}\r\n      loader={<Spinner />}\r\n    >\r\n      <ul className={styles.moviesGrid}>\r\n        {movies.map((movie) => (\r\n          <MovieCard key={movie.id} movie={movie} />\r\n        ))}\r\n      </ul>\r\n    </InfiniteScroll>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport styles from \"./MovieDetails.module.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { get } from \"../utils/httpClient\";\r\nimport { Spinner } from \"../components/Spinner\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function MovieDetails() {\r\n  const { movieId } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [movie, setMovie] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    get(`/movie/${movieId}`).then((data) => {\r\n      setIsLoading(false);\r\n      setMovie(data);\r\n    })\r\n  }, [movieId])\r\n\r\n  if(isLoading) {\r\n    return <Spinner/>\r\n  }\r\n\r\n  if(!movie) {\r\n    return null;\r\n  }\r\n\r\n\r\n  const imageUrl = \"https://image.tmdb.org/t/p/w500\" + movie.poster_path;\r\n  return (\r\n    <div className={styles.detailsContainer}>\r\n      <img className={`${styles.col} ${styles.movieImage}`} src={imageUrl} alt={movie.title} />\r\n      <div className={`${styles.col} ${styles.movieDetails}`}>\r\n        <p className={styles.firstItem}>\r\n          <strong>Title:</strong> {movie.title}\r\n        </p>\r\n        <p>\r\n          <strong>Genres:</strong> {movie.genres.map(genre => genre.name).join(\", \")}\r\n        </p>\r\n        <p>\r\n          <strong>Description:</strong> {movie.overview}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import styles from \"./Search.module.css\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function Search() {\r\n  const query = useQuery();\r\n  const search = query.get(\"search\");\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setSearchText(search || \"\");\r\n  }, [search]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/?search=\" + searchText);\r\n  };\r\n\r\n  return (\r\n    <form className={styles.searchContainer} onSubmit={handleSubmit}>\r\n      <div action=\"\" className={styles.searchBox}>\r\n        <input\r\n          className={styles.searchInput}\r\n          type=\"text\"\r\n          value={searchText ?? \"\"}\r\n          onChange={(e) => setSearchText(e.target.value)}\r\n          autoFocus\r\n        />\r\n        <button className={styles.searchButton} type=\"submit\">\r\n          <FaSearch size={20} />\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import { MoviesGrid } from \"../components/MoviesGrid\";\r\nimport { Search } from \"../components/Search\";\r\nimport React, { Component }  from 'react'\r\n\r\nexport function LandingPage() {\r\n  return (\r\n    <>\r\n      <Search />\r\n      <MoviesGrid />\r\n    </>\r\n  );\r\n}\r\n","import { MoviesGrid } from \"./components/MoviesGrid\";\nimport styles from \"./App.module.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport React, { Component }  from 'react'\nimport { MovieDetails } from \"./pages/MovieDetails\";\nimport { LandingPage } from \"./pages/LandingPage\";\n\nexport function App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <header>\n        <Link to=\"/\">\n          <h1 className={styles.title}>Movies</h1>\n        </Link>\n      </header>\n      <main>\n        <Switch>\n          <Route path=\"/movies/:movieId\">\n            <MovieDetails/>\n          </Route>\n          <Route path=\"/\">\n            <LandingPage/>\n          </Route>\n        </Switch>\n      </main>\n    </Router>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"MovieDetails_detailsContainer__1pQwn\",\"col\":\"MovieDetails_col__2bEop\",\"movieImage\":\"MovieDetails_movieImage__33juo\",\"movieDetails\":\"MovieDetails_movieDetails__1bZal\",\"firstItem\":\"MovieDetails_firstItem__HXqqi\"};"],"sourceRoot":""}